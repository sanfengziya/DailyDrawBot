# Daily Draw Bot

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„Discordå¤šåŠŸèƒ½æœºå™¨äººï¼ŒåŒ…å«æ¯æ—¥æŠ½å¥–ã€å®Œæ•´å® ç‰©å…»æˆç³»ç»Ÿã€å¤šç§å•†åº—ã€ç­”é¢˜æ¸¸æˆå’Œç§¯åˆ†ç»æµç³»ç»Ÿã€‚

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### ğŸ° ç»æµç³»ç»Ÿ
- **æ¯æ—¥æŠ½å¥–ç³»ç»Ÿ** - å…è´¹1æ¬¡+ä»˜è´¹20æ¬¡çš„æ¯æ—¥æŠ½å¥–æœºåˆ¶
- **ç§¯åˆ†ç®¡ç†** - å®Œæ•´çš„ç§¯åˆ†èµ é€ã€è½¬è´¦ã€ç®¡ç†ç³»ç»Ÿ
- **æ’è¡Œæ¦œ** - å®æ—¶ç§¯åˆ†æ’è¡Œå’Œè´¢å¯Œç»Ÿè®¡

### ğŸ¾ å® ç‰©å…»æˆç³»ç»Ÿ
- **å® ç‰©è›‹ç³»ç»Ÿ** - å¤šç¨€æœ‰åº¦å® ç‰©è›‹æŠ½å–ï¼ˆC/R/SR/SSRï¼‰
- **å® ç‰©ç®¡ç†** - å–‚å…»ã€å‡çº§ã€è£…å¤‡ã€äº’åŠ¨ç³»ç»Ÿ
- **ç¢ç‰‡é”»é€ ** - å® ç‰©ç¢ç‰‡æ”¶é›†å’Œåˆæˆæœºåˆ¶
- **æ˜Ÿçº§è¿›åŒ–** - å® ç‰©å‡æ˜Ÿå’Œå±æ€§æˆé•¿ç³»ç»Ÿ

### ğŸ›ï¸ å•†åº—ç³»ç»Ÿ
- **èº«ä»½ç»„å•†åº—** - Discordè§’è‰²è´­ä¹°å’Œç®¡ç†
- **ç‰©å“å•†åº—** - æ¶ˆè€—å“å’Œé“å…·å•†åº—
- **è®¢é˜…ç³»ç»Ÿ** - é«˜çº§åŠŸèƒ½å’Œç‰¹æƒè®¢é˜…

### ğŸ® æ¸¸æˆç³»ç»Ÿ
- **ç­”é¢˜æ¸¸æˆ** - å¤šç±»åˆ«é¢˜åº“çš„æ•™è‚²é—®ç­”æ¸¸æˆ
- **æ¦‚ç‡ç³»ç»Ÿ** - å…¬å¹³çš„éšæœºå¥–åŠ±æœºåˆ¶

### ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- **å›½é™…åŒ–** - æ”¯æŒä¸­æ–‡(zh-CN)å’Œè‹±æ–‡(en-US)
- **åŠ¨æ€åˆ‡æ¢** - ç®¡ç†å‘˜å¯å®æ—¶åˆ‡æ¢æœåŠ¡å™¨è¯­è¨€

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
- **Python 3.12+** - ä¸»è¦ç¼–ç¨‹è¯­è¨€
- **Discord.py 2.4+** - Discord APIæ¡†æ¶
- **Supabase** - äº‘ç«¯PostgreSQLæ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œä¼šè¯ç®¡ç†

### é¡¹ç›®ç»“æ„

```
Daily Draw/
â”œâ”€â”€ bot.py                          # åº”ç”¨å…¥å£ç‚¹
â”œâ”€â”€ requirements.txt                # Pythonä¾èµ–
â”œâ”€â”€ Procfile                        # éƒ¨ç½²é…ç½®
â””â”€â”€ src/                            # æºä»£ç ç›®å½•
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ main.py                     # æœºå™¨äººä¸»ç¨‹åº
    â”œâ”€â”€ config/                     # é…ç½®æ¨¡å—
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â””â”€â”€ config.py               # å…¨å±€é…ç½®å’Œç¯å¢ƒå˜é‡
    â”œâ”€â”€ db/                         # æ•°æ®åº“å±‚
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â””â”€â”€ database.py             # Supabaseå®¢æˆ·ç«¯å’ŒæŸ¥è¯¢åŠ©æ‰‹
    â”œâ”€â”€ utils/                      # å·¥å…·æ¨¡å—
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ helpers.py              # æ—¶åŒºã€æ¦‚ç‡ã€IDå·¥å…·
    â”‚   â””â”€â”€ ui.py                   # Discord UIç»„ä»¶
    â”œâ”€â”€ locales/                    # å¤šè¯­è¨€åŒ…
    â”‚   â”œâ”€â”€ zh-CN.json              # ä¸­æ–‡è¯­è¨€åŒ…
    â”‚   â””â”€â”€ en-US.json              # è‹±æ–‡è¯­è¨€åŒ…
    â””â”€â”€ commands/                   # å‘½ä»¤ç³»ç»Ÿï¼ˆæ¨¡å—åŒ–ï¼‰
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ economy/                # ç»æµç³»ç»Ÿ
        â”‚   â”œâ”€â”€ __init__.py
        â”‚   â”œâ”€â”€ daily_draw.py       # æ¯æ—¥æŠ½å¥– (!draw, /draw)
        â”‚   â”œâ”€â”€ balance.py          # ç§¯åˆ†æŸ¥è¯¢ (!check, /balance)
        â”‚   â””â”€â”€ points.py           # ç§¯åˆ†ç®¡ç† (!giftpoints, /give)
        â”œâ”€â”€ pets/                   # å® ç‰©ç³»ç»Ÿ
        â”‚   â”œâ”€â”€ __init__.py
        â”‚   â”œâ”€â”€ eggs.py             # å® ç‰©è›‹æŠ½å– (/egg)
        â”‚   â”œâ”€â”€ management.py       # å® ç‰©ç®¡ç† (/pet)
        â”‚   â””â”€â”€ forge.py            # ç¢ç‰‡é”»é€  (/forge)
        â”œâ”€â”€ shop/                   # å•†åº—ç³»ç»Ÿ
        â”‚   â”œâ”€â”€ __init__.py
        â”‚   â”œâ”€â”€ roles.py            # èº«ä»½ç»„å•†åº— (!roleshop, /tag)
        â”‚   â””â”€â”€ items.py            # ç‰©å“å•†åº— (/shop)
        â”œâ”€â”€ games/                  # æ¸¸æˆç³»ç»Ÿ
        â”‚   â”œâ”€â”€ __init__.py
        â”‚   â””â”€â”€ quiz.py             # ç­”é¢˜æ¸¸æˆ (!quiz, /quiz)
        â”œâ”€â”€ rankings/               # æ’è¡Œæ¦œç³»ç»Ÿ
        â”‚   â”œâ”€â”€ __init__.py
        â”‚   â””â”€â”€ leaderboard.py      # ç§¯åˆ†æ’è¡Œæ¦œ (!ranking)
        â””â”€â”€ system/                 # ç³»ç»ŸåŠŸèƒ½
            â”œâ”€â”€ __init__.py
            â”œâ”€â”€ help.py             # å¸®åŠ©ç³»ç»Ÿ (/help)
            â””â”€â”€ admin.py            # ç®¡ç†å‘˜å·¥å…· (!admin)
```

## âš™ï¸ é…ç½®è¦æ±‚

### å¿…éœ€ç¯å¢ƒå˜é‡
```env
TOKEN=discord_bot_token                   # Discordæœºå™¨äººä»¤ç‰Œ
SUPABASE_URL=your_supabase_project_url    # Supabaseé¡¹ç›®URL
SUPABASE_KEY=your_supabase_anon_key       # SupabaseåŒ¿åå¯†é’¥
REDIS_URL=your_redis_server_url           # Redisè¿æ¥URLï¼ˆç”Ÿäº§ç¯å¢ƒå¿…éœ€ï¼‰
```

### æ•°æ®åº“æ¶æ„
é¡¹ç›®ä½¿ç”¨Supabaseï¼ˆPostgreSQL 17.6ï¼‰ä½œä¸ºåç«¯æ•°æ®åº“ï¼ŒåŒ…å«22ä¸ªæ•°æ®è¡¨ï¼š

## ğŸ“‹ æ•°æ®è¡¨è¯¦ç»†ç»“æ„

### ğŸ‘¥ æ ¸å¿ƒç”¨æˆ·è¡¨
#### `users`
**ç”¨é€”ï¼š** å­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€ç§¯åˆ†å’Œæ¸¸æˆçŠ¶æ€
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - å†…éƒ¨ç”¨æˆ·ID
- discord_user_id (bigint) - Discordç”¨æˆ·ID
- guild_id (bigint) - æœåŠ¡å™¨ID
- points (integer) - å½“å‰ç§¯åˆ†
- paid_draws_today (integer) - ä»Šæ—¥ä»˜è´¹æŠ½å¥–æ¬¡æ•°
- last_draw_date (date) - æœ€åæŠ½å¥–æ—¥æœŸ
- equipped_pet_id (bigint) - è£…å¤‡çš„å® ç‰©ID
- egg_pity_counter (integer) - è›‹æŠ½å¡ä¿åº•è®¡æ•°å™¨(0-49)
- legendary_egg_pity_counter (integer) - ä¼ è¯´è›‹ä¿åº•è®¡æ•°å™¨
```

### ğŸ¾ å® ç‰©ç³»ç»Ÿè¡¨
#### `pet_templates`
**ç”¨é€”ï¼š** å® ç‰©æ¨¡æ¿åº“ï¼Œå®šä¹‰å® ç‰©å±æ€§
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - å® ç‰©æ¨¡æ¿ID
- cn_name (varchar, unique) - ä¸­æ–‡åç§°
- en_name (varchar) - è‹±æ–‡åç§°
- rarity (rarity_enum) - ç¨€æœ‰åº¦ï¼šC/R/SR/SSR
- cn_description/en_description (text) - å® ç‰©æè¿°
```

#### `user_pets`
**ç”¨é€”ï¼š** ç”¨æˆ·æ‹¥æœ‰çš„å® ç‰©å®ä¾‹
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - å® ç‰©å®ä¾‹ID
- user_id (bigint, FK) - æ‹¥æœ‰è€…ID
- pet_template_id (bigint, FK) - å® ç‰©æ¨¡æ¿ID
- level (integer) - ç­‰çº§ (>=1)
- stars (integer) - æ˜Ÿçº§
- xp_current/xp_total (integer) - ç»éªŒå€¼
- satiety (integer) - é¥±é£Ÿåº¦ (0-100)
- favorite_flavor/dislike_flavor (flavor_enum) - å–œå¥½å£å‘³
- last_feeding (timestamptz) - æœ€åå–‚é£Ÿæ—¶é—´
```

#### `user_eggs`
**ç”¨é€”ï¼š** ç”¨æˆ·å® ç‰©è›‹åº“å­˜å’Œå­µåŒ–çŠ¶æ€
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - è›‹ID
- user_id (bigint, FK) - æ‹¥æœ‰è€…ID
- rarity (rarity_enum) - è›‹ç¨€æœ‰åº¦ï¼šC/R/SR/SSR
- status (egg_status_enum) - çŠ¶æ€ï¼špending/hatching/completed/claimed
- hatch_started_at (timestamptz) - å¼€å§‹å­µåŒ–æ—¶é—´
- hatch_completed_at (timestamptz) - å®Œæˆå­µåŒ–æ—¶é—´
```

#### `user_pet_fragments`
**ç”¨é€”ï¼š** ç”¨æˆ·å® ç‰©ç¢ç‰‡åº“å­˜
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - ç¢ç‰‡ID
- user_id (bigint, FK) - æ‹¥æœ‰è€…ID
- rarity (rarity_enum) - ç¢ç‰‡ç¨€æœ‰åº¦
- amount (integer) - ç¢ç‰‡æ•°é‡
```

### ğŸœ æ‚è´§é“ºç³»ç»Ÿè¡¨
#### `food_templates`
**ç”¨é€”ï¼š** é£Ÿç²®æ¨¡æ¿å®šä¹‰
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - é£Ÿç²®æ¨¡æ¿ID
- cn_name/en_name (varchar) - é£Ÿç²®åç§°
- rarity (rarity_enum) - ç¨€æœ‰åº¦
- flavor (flavor_enum) - å£å‘³ï¼šSWEET/SALTY/SOUR/SPICY/UMAMI
- base_xp/xp_flow (integer) - åŸºç¡€ç»éªŒå€¼
- price (integer) - ä»·æ ¼
```

#### `user_food_inventory`
**ç”¨é€”ï¼š** ç”¨æˆ·é£Ÿç²®åº“å­˜
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - åº“å­˜ID
- user_id (bigint, FK) - ç”¨æˆ·ID
- food_template_id (bigint, FK) - é£Ÿç²®æ¨¡æ¿ID
- quantity (integer) - æ•°é‡ (>=0)
```

#### `daily_shop_catalog`
**ç”¨é€”ï¼š** æ¯æ—¥å•†åº—å•†å“ç›®å½•
```sql
ä¸»è¦å­—æ®µï¼š
- refresh_date (date) - åˆ·æ–°æ—¥æœŸ
- food_template_id (bigint, FK) - é£Ÿç²®ID
```

### ğŸ° æ¸¸æˆç³»ç»Ÿè¡¨
#### `quiz_questions`
**ç”¨é€”ï¼š** é¢˜åº“
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - é¢˜ç›®ID
- category (varchar) - é¢˜ç›®ç±»åˆ«
- language (quiz_language_enum) - è¯­è¨€ï¼šchinese/english
- question (text) - é¢˜ç›®å†…å®¹
- option_a/b/c/d (varchar) - é€‰é¡¹
- answer (char) - æ­£ç¡®ç­”æ¡ˆ (A/B/C/D)
```

#### `blackjack_games`
**ç”¨é€”ï¼š** äºŒåä¸€ç‚¹æ¸¸æˆå†å²è®°å½•
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - æ¸¸æˆID
- user_id (bigint, FK) - ç©å®¶ID
- bet_amount (integer) - ä¸‹æ³¨é‡‘é¢
- result (blackjack_result_enum) - ç»“æœï¼šwin/lose/tie/blackjack/surrender/dealer_blackjack
- profit (integer) - å‡€ç›ˆäº
- player_hand/dealer_hand (jsonb) - ç©å®¶/åº„å®¶æ‰‹ç‰Œ
- had_insurance/is_split/is_doubled (boolean) - æ¸¸æˆé€‰é¡¹
```

#### `user_game_statistics`
**ç”¨é€”ï¼š** ç”¨æˆ·æ¸¸æˆç»Ÿè®¡
```sql
ä¸»è¦å­—æ®µï¼š
- id (varchar, PK) - ç»Ÿè®¡ID
- user_id (bigint, FK) - ç”¨æˆ·ID
- game_type (game_type_enum) - æ¸¸æˆç±»å‹ï¼šquiz/memory/reaction/puzzle/snake/tetris
- best_score (integer) - æœ€é«˜åˆ†
- games_played (integer) - æ¸¸æˆæ¬¡æ•°
```

### ğŸ·ï¸ å•†åº—ç³»ç»Ÿè¡¨
#### `tags`
**ç”¨é€”ï¼š** èº«ä»½ç»„å•†åº—
```sql
ä¸»è¦å­—æ®µï¼š
- id (bigint, PK) - èº«ä»½ç»„ID
- guild_id (text) - æœåŠ¡å™¨ID
- role_id (text) - Discordèº«ä»½ç»„ID
- price (integer) - ä»·æ ¼(ç§¯åˆ†)
```

### âš™ï¸ ç³»ç»Ÿé…ç½®è¡¨
#### `guild_settings`
**ç”¨é€”ï¼š** æœåŠ¡å™¨è®¾ç½®
```sql
ä¸»è¦å­—æ®µï¼š
- guild_id (bigint, PK) - æœåŠ¡å™¨ID
- language (language_enum) - è¯­è¨€ï¼šen/zh/ja/ko/es/fr/de
```

#### `egg_draw_probabilities`
**ç”¨é€”ï¼š** è›‹æŠ½å–æ¦‚ç‡é…ç½®
```sql
ä¸»è¦å­—æ®µï¼š
- rarity (rarity_enum) - ç¨€æœ‰åº¦
- probability (numeric) - æ¦‚ç‡å€¼
```

#### `egg_hatch_probabilities`
**ç”¨é€”ï¼š** è›‹å­µåŒ–æ¦‚ç‡é…ç½®
```sql
ä¸»è¦å­—æ®µï¼š
- egg_rarity (rarity_enum) - è›‹ç¨€æœ‰åº¦
- pet_rarity (rarity_enum) - å­µåŒ–å® ç‰©ç¨€æœ‰åº¦
- probability (numeric) - æ¦‚ç‡å€¼
```

#### `pet_rarity_configs`
**ç”¨é€”ï¼š** å® ç‰©ç¨€æœ‰åº¦é…ç½®
```sql
ä¸»è¦å­—æ®µï¼š
- rarity (rarity_enum) - ç¨€æœ‰åº¦
- min_initial_stars/max_initial_stars (integer) - åˆå§‹æ˜Ÿçº§èŒƒå›´
- max_stars (integer) - æœ€å¤§æ˜Ÿçº§
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd Daily Draw

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶å¡«å…¥ä½ çš„é…ç½®

# è¿è¡Œæœºå™¨äºº
python bot.py
```

## ğŸ® å‘½ä»¤å¤§å…¨

### ğŸ’° ç»æµç³»ç»Ÿå‘½ä»¤
**ä¼ ç»Ÿå‘½ä»¤ï¼š**
- `!draw [æ¬¡æ•°]` - æ¯æ—¥æŠ½å¥–ï¼ˆå…è´¹1æ¬¡ï¼Œä»˜è´¹æœ€å¤š20æ¬¡/å¤©ï¼Œæ¯æ¬¡100ç§¯åˆ†ï¼‰
- `!check [ç”¨æˆ·]` - æŸ¥çœ‹ç§¯åˆ†å’ŒæŠ½å¥–çŠ¶æ€
- `!giftpoints <ç”¨æˆ·> <ç§¯åˆ†>` - èµ é€ç§¯åˆ†ç»™å…¶ä»–ç”¨æˆ·

**æŠ½å¥–è§„åˆ™ï¼š**
- ğŸ‰ **å…è´¹æŠ½å¥–**ï¼šæ¯å¤©1æ¬¡ï¼Œå®Œå…¨å…è´¹
- ğŸ° **ä»˜è´¹æŠ½å¥–**ï¼šæ¯å¤©æœ€å¤š20æ¬¡ï¼Œæ¯æ¬¡æ¶ˆè€—100ç§¯åˆ†
- â° **é‡ç½®æ—¶é—´**ï¼šæ¯å¤©0ç‚¹è‡ªåŠ¨é‡ç½®æŠ½å¥–æ¬¡æ•°
- ğŸ’° **å¥–åŠ±èŒƒå›´**ï¼š10-1000ç§¯åˆ†ï¼Œå¹³å‡å›æŠ¥ç‡103.8%

### ğŸ¥š è›‹ç³»ç»Ÿ
**æ–œæ å‘½ä»¤ï¼š**
- `/egg action:draw` - æŠ½å–å® ç‰©è›‹ï¼ˆå•æŠ½250ç§¯åˆ†ï¼Œåè¿2250ç§¯åˆ†ï¼‰
- `/egg action:list` - æŸ¥çœ‹æ‹¥æœ‰çš„è›‹åº“å­˜
- `/egg action:hatch` - é€‰æ‹©è›‹è¿›è¡Œå­µåŒ–
- `/egg action:claim` - é¢†å–å·²å®Œæˆå­µåŒ–çš„å® ç‰©

### ğŸ¾ å® ç‰©ç³»ç»Ÿ
**æ–œæ å‘½ä»¤ï¼š**
- `/pet action:list [é¡µç ]` - æŸ¥çœ‹å® ç‰©åˆ—è¡¨ï¼ˆåˆ†é¡µæ˜¾ç¤ºï¼‰
- `/pet action:info` - æŸ¥çœ‹æŒ‡å®šå® ç‰©è¯¦ç»†ä¿¡æ¯
- `/pet action:upgrade` - å‡çº§å® ç‰©æ˜Ÿçº§ï¼ˆéœ€è¦ç¢ç‰‡å’Œç§¯åˆ†ï¼‰
- `/pet action:dismantle` - åˆ†è§£å® ç‰©è·å¾—ç¢ç‰‡å’Œç§¯åˆ†
- `/pet action:fragments` - æŸ¥çœ‹æ‹¥æœ‰çš„å® ç‰©ç¢ç‰‡åº“å­˜
- `/pet action:equip` - è£…å¤‡å® ç‰©å¼€å§‹è‡ªåŠ¨è·å–ç§¯åˆ†
- `/pet action:unequip` - å¸ä¸‹å½“å‰è£…å¤‡çš„å® ç‰©
- `/pet action:status` - æŸ¥çœ‹å½“å‰è£…å¤‡çŠ¶æ€å’Œå¾…é¢†å–ç§¯åˆ†
- `/pet action:claim` - é¢†å–å® ç‰©è‡ªåŠ¨è·å¾—çš„ç§¯åˆ†
- `/pet action:feed` - å–‚é£Ÿå® ç‰©è·å¾—ç»éªŒ

**è‡ªåŠ¨å–‚é£Ÿï¼š**
- `/feed auto [pet] [mode] [quantity]` - ä¸€é”®å–‚é£Ÿå® ç‰©

### ğŸª æ‚è´§é“ºç³»ç»Ÿ
**æ–œæ å‘½ä»¤ï¼š**
- `/shop action:view menu` - æŸ¥çœ‹ä»Šæ—¥æ‚è´§é“ºå•†å“
- `/shop action:buy item:<å•†å“å> quantity:<æ•°é‡>` - è´­ä¹°æŒ‡å®šé£Ÿç²®
- `/inventory item_type:food` - æŸ¥çœ‹é£Ÿç²®åº“å­˜

### ğŸ”¨ é”»é€ ç³»ç»Ÿ
**æ–œæ å‘½ä»¤ï¼š**
- `/forge action:view` - æŸ¥çœ‹ç¢ç‰‡åº“å­˜å’Œåˆæˆè§„åˆ™
- `/forge action:craft from_rarity:<æºç¨€æœ‰åº¦> to_rarity:<ç›®æ ‡ç¨€æœ‰åº¦> quantity:<æ•°é‡>` - åˆæˆå® ç‰©ç¢ç‰‡

**åˆæˆè§„åˆ™ï¼š**
- Cç¢ç‰‡ â†’ Rç¢ç‰‡ï¼š10:1 + 50ç§¯åˆ†
- Rç¢ç‰‡ â†’ SRç¢ç‰‡ï¼š5:1 + 80ç§¯åˆ†
- SRç¢ç‰‡ â†’ SSRç¢ç‰‡ï¼š3:1 + 100ç§¯åˆ†

### ğŸ·ï¸ èº«ä»½ç»„ç³»ç»Ÿ
**æ–œæ å‘½ä»¤ï¼š**
- `/tag action:shop` - æŸ¥çœ‹èº«ä»½ç»„å•†åº—
- `/tag action:buy role_name:<èº«ä»½ç»„å>` - è´­ä¹°æŒ‡å®šèº«ä»½ç»„

### ğŸ® ç­”é¢˜ç³»ç»Ÿ
**ä¼ ç»Ÿå‘½ä»¤ï¼š**
- `!quizlist [è¯­è¨€]` - æŸ¥çœ‹é¢˜åº“ç±»åˆ«
  â€¢ `!quizlist` æˆ– `!quizlist all` - æ˜¾ç¤ºæ‰€æœ‰è¯­è¨€
  â€¢ `!quizlist chinese` - åªæ˜¾ç¤ºä¸­æ–‡é¢˜åº“
  â€¢ `!quizlist english` - åªæ˜¾ç¤ºè‹±æ–‡é¢˜åº“

**æç¤ºï¼š**
- ç­”å¯¹æ¯é¢˜å¯è·å¾—20ç§¯åˆ†
- ç­‰å¾…ç®¡ç†å‘˜å¼€å¯ç­”é¢˜ï¼

### ğŸ° äºŒåä¸€ç‚¹æ¸¸æˆ
**æ–œæ å‘½ä»¤ï¼š**
- `/blackjack play <ä¸‹æ³¨é‡‘é¢>` - å¼€å§‹äºŒåä¸€ç‚¹æ¸¸æˆ
  â€¢ ä¸‹æ³¨é‡‘é¢å¯ä»¥æ˜¯æ•°å­—æˆ– `all`ï¼ˆå…¨éƒ¨ç§¯åˆ†ï¼‰
  â€¢ ç¤ºä¾‹ï¼š`/blackjack play 100` æˆ– `/blackjack play all`
- `/blackjack stats` - æŸ¥çœ‹æ¸¸æˆç»Ÿè®¡æ•°æ®

**æ¸¸æˆåŠŸèƒ½ï¼š**
- ğŸ´âœ‹ **åŸºç¡€æ“ä½œ**ï¼šè¦ç‰Œã€åœç‰Œ
- ğŸ² **åŠ å€ä¸‹æ³¨**ï¼šé¦–æ¬¡å‘ç‰ŒååŠ å€ï¼ˆDouble Downï¼‰
- âœ‚ï¸ **åˆ†ç‰Œ**ï¼šå¯¹å­å¯ä»¥åˆ†æˆä¸¤æ‰‹ç‰Œï¼ˆSplitï¼‰
- ğŸ²âœ‚ï¸ **DASè§„åˆ™**ï¼šåˆ†ç‰Œåå¯ä»¥åŠ å€ï¼ˆé™ä½åº„å®¶ä¼˜åŠ¿0.14%ï¼‰
- ğŸ›¡ï¸ **ä¿é™©**ï¼šåº„å®¶æ˜ç‰ŒAæ—¶å¯è´­ä¹°ä¿é™©
- ğŸ³ï¸ **æŠ•é™**ï¼šæ‰‹ç‰Œæå·®æ—¶æ­¢æŸ

**ç‰¹è‰²ï¼š**
- âœ… æ ‡å‡†èµŒåœºè§„åˆ™ï¼ˆåº„å®¶17ç‚¹åœç‰Œï¼‰
- âœ… BlackJackç‰¹æ®Šå¥–åŠ±ï¼ˆ2.5å€èµ”ç‡ï¼‰
- âœ… å®Œæ•´æ¸¸æˆè®°å½•å’Œç»Ÿè®¡

### ğŸ† æ’è¡Œæ¦œç³»ç»Ÿ
**æ–œæ å‘½ä»¤ï¼š**
- `/leaderboard [type]` - æŸ¥çœ‹æœåŠ¡å™¨æ’è¡Œæ¦œï¼ˆæ˜¾ç¤ºå‰10åï¼‰

**æ’è¡Œæ¦œç±»å‹ï¼š**
- `points` - ç§¯åˆ†æ’è¡Œæ¦œï¼ˆé»˜è®¤ï¼‰
- `pets` - å® ç‰©æ•°é‡æ’è¡Œæ¦œ
- `hatched eggs` - å·²å­µåŒ–è›‹æ•°é‡æ’è¡Œæ¦œ
- `blackjack wins` - 21ç‚¹èƒœåœºæ’è¡Œæ¦œ

**ç¤ºä¾‹ï¼š**
â€¢ `/leaderboard` - æŸ¥çœ‹ç§¯åˆ†æ’è¡Œæ¦œ
â€¢ `/leaderboard type:pets` - æŸ¥çœ‹å® ç‰©æ’è¡Œæ¦œ
â€¢ `/leaderboard type:hatched eggs` - æŸ¥çœ‹å·²å­µåŒ–è›‹æ’è¡Œæ¦œ
â€¢ `/leaderboard type:blackjack wins` - æŸ¥çœ‹21ç‚¹èƒœåœºæ’è¡Œæ¦œ

### âš™ï¸ ç®¡ç†å‘˜å‘½ä»¤
**ç³»ç»Ÿç®¡ç†ï¼š**
- `/language` - è®¾ç½®æœåŠ¡å™¨è¯­è¨€
- `!rewardinfo` - æ˜¾ç¤ºå¥–å“æ¦‚ç‡ä¿¡æ¯
- `!checksubscription` - æ£€æŸ¥æœåŠ¡å™¨è®¢é˜…çŠ¶æ€

**èº«ä»½ç»„ç®¡ç†ï¼š**
- `!addtag <ä»·æ ¼> <èº«ä»½ç»„>` - æ·»åŠ å¯è´­ä¹°èº«ä»½ç»„
- `!removetag <èº«ä»½ç»„>` - åˆ é™¤èº«ä»½ç»„å•†åº—ä¸­çš„èº«ä»½ç»„
- `!updatetagprice <èº«ä»½ç»„> <æ–°ä»·æ ¼>` - æ›´æ–°èº«ä»½ç»„ä»·æ ¼
- `!listtags` - æŸ¥çœ‹æ‰€æœ‰å·²æ·»åŠ çš„èº«ä»½ç»„

**ç­”é¢˜ç®¡ç†ï¼š**
- `!quiz "<ç±»åˆ«>" <é¢˜ç›®æ•°>` - å¼€å§‹ç­”é¢˜æ¸¸æˆ
  â€¢ æ”¯æŒå®Œå…¨åŒ¹é…ï¼š`!quiz åŠ¨æ¼« 5`
  â€¢ æ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼š`!quiz study 5` (åŒ¹é…æ‰€æœ‰ study:xxx)
  â€¢ ç­”å¯¹æ¯é¢˜å¥–åŠ±20ç§¯åˆ†

**ç§¯åˆ†ç®¡ç†ï¼š**
- `!givepoints <ç”¨æˆ·> <ç§¯åˆ†>` - ç»™äºˆç”¨æˆ·ç§¯åˆ†
- `!setpoints <ç”¨æˆ·> <ç§¯åˆ†>` - è®¾ç½®ç”¨æˆ·ç§¯åˆ†

## ğŸŒ å›½é™…åŒ–æ”¯æŒ

### å¤šè¯­è¨€æ¶æ„
- **è¯­è¨€åŒ…ä½ç½®**ï¼š`src/locales/`
- **æ”¯æŒè¯­è¨€**ï¼šä¸­æ–‡(zh-CN)ã€è‹±æ–‡(en-US)
- **åŠ¨æ€åˆ‡æ¢**ï¼šç®¡ç†å‘˜å¯å®æ—¶åˆ‡æ¢æœåŠ¡å™¨è¯­è¨€
- **æ‰©å±•æ€§**ï¼šå¯æŒ‰ç›¸åŒæ ¼å¼æ·»åŠ æ–°è¯­è¨€

### è¯­è¨€ç®¡ç†
- ç¯å¢ƒå˜é‡ `DEFAULT_LOCALE` è®¾ç½®é»˜è®¤è¯­è¨€
- `/settings language` å‘½ä»¤åˆ‡æ¢æœåŠ¡å™¨è¯­è¨€
- æ‰€æœ‰ç”¨æˆ·ç•Œé¢æ–‡æœ¬å·²å®Œå…¨æœ¬åœ°åŒ–
- æ–°åŠŸèƒ½å¼€å‘æ—¶è¯·åŒæ­¥æ›´æ–°è¯­è¨€åŒ…

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. **é€‰æ‹©æ¨¡å—**ï¼šç¡®å®šåŠŸèƒ½åˆ†ç±»ï¼ˆeconomy/pets/shop/games/rankings/systemï¼‰
2. **åˆ›å»ºå‘½ä»¤**ï¼šåœ¨å¯¹åº”æ¨¡å—æ–‡ä»¶ä¸­æ·»åŠ åŠŸèƒ½å‡½æ•°
3. **æ›´æ–°å¯¼å‡º**ï¼šåœ¨æ¨¡å—çš„ `__init__.py` ä¸­å¯¼å‡ºæ–°å‡½æ•°
4. **æ³¨å†Œå‘½ä»¤**ï¼šåœ¨ `src/main.py` ä¸­æ³¨å†Œä¼ ç»Ÿå‘½ä»¤å’Œæ–œæ å‘½ä»¤
5. **æ·»åŠ ç¿»è¯‘**ï¼šåœ¨ `src/locales/` ä¸­æ·»åŠ å¤šè¯­è¨€æ”¯æŒ
6. **æµ‹è¯•åŠŸèƒ½**ï¼šä½¿ç”¨å†…ç½®æµ‹è¯•å‘½ä»¤éªŒè¯åŠŸèƒ½

### å‘½ä»¤ç³»ç»Ÿæ¶æ„
- **æ··åˆå‘½ä»¤**ï¼šåŒæ—¶æ”¯æŒ `!command` å’Œ `/command`
- **æƒé™æ§åˆ¶**ï¼šä½¿ç”¨ `@commands.has_permissions()` ç®¡ç†æƒé™
- **é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆæœºåˆ¶
- **å¼‚æ­¥æ“ä½œ**ï¼šæ‰€æœ‰æ•°æ®åº“æ“ä½œä½¿ç”¨ async/await

### æ•°æ®åº“æ“ä½œ
```python
# è·å–æ•°æ®åº“è¿æ¥
from src.db.database import get_connection
supabase = get_connection()

# ç”¨æˆ·æ“ä½œç¤ºä¾‹
from src.utils.helpers import get_missing_user_id
user_id = await get_missing_user_id(discord_user.id)
```

### UIç»„ä»¶ä½¿ç”¨
```python
# åˆ›å»ºäº¤äº’å¼é€‰æ‹©èœå•
from src.utils.ui import create_pet_selector, create_confirmation
view = create_pet_selector(pets, "é€‰æ‹©ä¸€åªå® ç‰©")
await ctx.send_message(view=view)
```

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

**ç³»ç»Ÿç‰¹æ€§ï¼š**
- âœ… æ¨¡å—åŒ–æ¶æ„è®¾è®¡
- âœ… å®Œæ•´çš„æƒé™ç®¡ç†
- âœ… Redisç¼“å­˜ä¼˜åŒ–
- âœ… å¤šè¯­è¨€å›½é™…åŒ–
- âœ… å…¨é¢çš„é”™è¯¯å¤„ç†
- âœ… ä¸°å¯Œçš„ç®¡ç†å·¥å…·

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æœºå™¨äººæ— æ³•å¯åŠ¨**ï¼šæ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®å’ŒDiscordä»¤ç‰Œ
2. **æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼šéªŒè¯Supabase URLå’Œå¯†é’¥
3. **Redisè¿æ¥é”™è¯¯**ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»é…ç½®Redis URL
4. **å‘½ä»¤æ— å“åº”**ï¼šæ£€æŸ¥æœºå™¨äººæ˜¯å¦æœ‰æœåŠ¡å™¨æƒé™

### æ—¥å¿—è°ƒè¯•
```bash
# æŸ¥çœ‹æœºå™¨äººè¿è¡Œæ—¥å¿—
python bot.py  # æ—¥å¿—ä¼šè¾“å‡ºåˆ°æ§åˆ¶å°
```

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
- åˆ›å»º [Issue](../../issues)
- è”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼**
